/**
 * POPUP STYLING GUIDE
 * 
 * This popup uses the design system variables from variables.css
 * 
 * PRIMARY COLOR (P70): #3b3fea
 * - Use for: Primary buttons, active states, borders, focus states, links
 * - Primary color variants:
 *   - P10: Light background (#f0f1ff) - hover states, subtle backgrounds
 *   - P60: Darker primary (#585ae5) - hover on primary buttons
 *   - P70: Main primary (#3b3fea) - primary actions, active tabs
 * 
 * NEUTRAL COLORS:
 * - N00: White (#ffffff) - backgrounds, text on dark
 * - N10: Very light gray (#fbfafa) - card backgrounds
 * - N15: Light gray (#f1f2f1) - borders, tab backgrounds
 * - N20: Medium light gray (#d0d0d0) - input borders, dividers
 * - N30-N40: Medium grays (#acadb1, #97999e) - secondary text
 * - N50: Medium dark gray (#63656e) - body text, labels
 * - N70: Dark gray (#4d515a) - headings, primary text
 * - N100: Black (#000000) - maximum contrast
 * 
 * TYPOGRAPHY:
 * - Headings: Use --heading-h* variables (h13 for 24px, etc.)
 * - Body: Use --body-b* variables (b7 for 18px, b8 for 14px, etc.)
 * - Labels: Use --label-l* variables (l5 for 14px, l6 for 12px, etc.)
 * - Font family: "Plus Jakarta Sans" (defined in font.css)
 * 
 * SPACING:
 * - Use --size-* variables for consistent spacing
 * - Common sizes: --size-1 (4px), --size-2 (8px), --size-3 (12px), --size-4 (16px)
 * 
 * DANGER/SUCCESS:
 * - Danger: --danger-D50 (#ee4137) for delete actions
 * - Success: --success-S50 (#00d185) for success states
 */

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: "Plus Jakarta Sans", Helvetica, sans-serif;
  width: 340px;
  min-height: 440px;
  background: var(--gradient-blue-vertical);
  color: var(--neutral-N70);
}

.container {
  background: var(--neutral-N00);
  border-radius: var(--size-3);
  margin: var(--size-1-5);
  padding: var(--size-4);
  box-shadow: 0 var(--size-2-5) var(--size-10) rgba(0, 0, 0, 0.18);
}

header {
  text-align: center;
  margin-bottom: var(--size-5);
  padding-bottom: var(--size-3-5);
  border-bottom: 2px solid var(--neutral-N15);
}

header h1 {
  font: var(--heading-h13-2);
  background: var(--gradient-blue-vertical);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: var(--size-1);
}

.subtitle {
  font: var(--body-b8-4);
  color: var(--neutral-N50);
}

/* Tabs */
.tabs {
  display: flex;
  gap: var(--size-1);
  margin-bottom: var(--size-4);
  background: var(--neutral-N15);
  padding: var(--size-1);
  border-radius: var(--size-2);
}

.tab-btn {
  flex: 1;
  padding: var(--size-1-5) var(--size-2-5);
  border: none;
  background: transparent;
  border-radius: var(--size-1-5);
  cursor: pointer;
  font: var(--label-l5-3);
  color: var(--neutral-N50);
  transition: all 0.2s;
}

.tab-btn:hover {
  background: var(--primary-P10);
}

.tab-btn.active {
  background: var(--primary-P70);
  color: var(--neutral-N00);
}

.tab-content {
  display: none;
}

.tab-content.active {
  display: block;
}

/* Form Styles */
.form-group {
  margin-bottom: var(--size-3-5);
}

.form-grid {
  display: flex;
  gap: var(--size-2);
  margin-bottom: var(--size-2);
}

.form-grid .form-group {
  flex: 1;
  min-width: 0;
  margin-bottom: 0;
}

.form-group label {
  display: flex;
  align-items: center;
  gap: var(--size-1);
  font: var(--body-b7-3);
  color: var(--neutral-N70);
  margin-bottom: var(--size-1-5);
  position: relative;
}

.form-group label span:first-child {
  color: var(--neutral-N70);
}

.hint-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: var(--size-4);
  height: var(--size-4);
  font-size: var(--size-3);
  cursor: help;
  opacity: 0.5;
  transition: opacity 0.2s, color 0.2s;
  position: relative;
  color: var(--neutral-N40);
  line-height: 1;
}

.hint-icon:hover {
  opacity: 1;
  color: var(--primary-P70);
}

.info {
  position: absolute;
  top: calc(100% + var(--size-1));
  left: 0;
  padding: var(--size-2) var(--size-2-5);
  background: var(--neutral-N90);
  color: var(--neutral-N00);
  font: var(--body-b9-5);
  border-radius: var(--size-1);
  white-space: nowrap;
  opacity: 0;
  visibility: hidden;
  transform: translateY(-4px);
  transition: opacity 0.2s, visibility 0.2s, transform 0.2s;
  pointer-events: none;
  z-index: 10;
  box-shadow: 0 var(--size-1) var(--size-3) rgba(0, 0, 0, 0.2);
}

.info::before {
  content: '';
  position: absolute;
  bottom: 100%;
  left: var(--size-2);
  border: var(--size-0-5) solid transparent;
  border-bottom-color: var(--neutral-N90);
}

.hint-icon:hover + .info {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

input[type="number"],
input[type="text"] {
  width: 100%;
  padding: var(--size-2) var(--size-2-5);
  border: 2px solid var(--neutral-N20);
  border-radius: var(--size-2);
  font: var(--body-b7-5);
  transition: all 0.2s;
  font-family: inherit;
}

input[type="number"]:focus,
input[type="text"]:focus {
  outline: none;
  border-color: var(--primary-P70);
  box-shadow: 0 0 0 3px var(--primary-P10);
}

.color-picker-module {
  display: flex;
  flex-direction: column;
  gap: var(--size-2-5);
}

.color-input-wrapper {
  display: flex;
  align-items: center;
  gap: var(--size-3);
}

.color-preview {
  width: var(--size-11);
  height: var(--size-11);
  border-radius: var(--size-3);
  border: 3px solid rgba(0, 0, 0, 0.1);
  box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.4);
}

#color-text {
  flex: 1;
}

.color-sliders {
  display: flex;
  flex-direction: column;
  gap: var(--size-1);
}

.slider-label {
  display: flex;
  justify-content: space-between;
  font: var(--label-l6-3);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--neutral-N50);
}

.color-swatches {
  display: flex;
  flex-wrap: wrap;
  gap: var(--size-1-5);
}

.color-swatch {
  width: var(--size-7);
  height: var(--size-7);
  border-radius: var(--size-2);
  border: none;
  cursor: pointer;
  border: 2px solid rgba(255, 255, 255, 0.7);
  box-shadow: 0 var(--size-0-5) var(--size-2) rgba(0, 0, 0, 0.2);
  transition: transform 0.2s, box-shadow 0.2s;
}

.color-swatch:hover {
  transform: translateY(-1px);
  box-shadow: 0 var(--size-1) var(--size-3) rgba(0, 0, 0, 0.2);
}

.color-advanced {
  border: 1px dashed var(--neutral-N20);
  border-radius: var(--size-2-5);
  padding: var(--size-2) var(--size-2-5);
  background: var(--primary-P00);
}

.color-advanced summary {
  cursor: pointer;
  font: var(--label-l5-3);
  color: var(--primary-P70);
  margin-bottom: var(--size-1-5);
  outline: none;
}

.color-advanced summary::-webkit-details-marker {
  display: none;
}

.color-advanced[open] {
  padding-bottom: var(--size-3);
}

.color-advanced[open] summary {
  margin-bottom: var(--size-2-5);
}

input[type="range"] {
  width: 100%;
  height: var(--size-1-5);
  border-radius: var(--size-0-5);
  background: var(--neutral-N20);
  outline: none;
  -webkit-appearance: none;
  margin: var(--size-2-5) 0;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: var(--size-4);
  height: var(--size-4);
  border-radius: 50%;
  background: var(--primary-P70);
  cursor: pointer;
  box-shadow: 0 var(--size-0-5) var(--size-1-5) rgba(0, 0, 0, 0.2);
}

input[type="range"]::-moz-range-thumb {
  width: var(--size-4);
  height: var(--size-4);
  border-radius: 50%;
  background: var(--primary-P70);
  cursor: pointer;
  border: none;
  box-shadow: 0 var(--size-0-5) var(--size-1-5) rgba(0, 0, 0, 0.2);
}

.range-value {
  display: block;
  text-align: right;
  font: var(--label-l5-5);
  color: var(--neutral-N50);
  margin-top: calc(var(--size-1) * -1);
}

/* Buttons */
.button-group {
  display: flex;
  gap: var(--size-2);
  margin: var(--size-4) 0 var(--size-3);
}

.btn {
  flex: 1;
  padding: var(--size-2-5) var(--size-4);
  border: none;
  border-radius: var(--size-2);
  font: var(--body-b7-3);
  cursor: pointer;
  transition: all 0.2s;
  font-family: inherit;
}

.btn-primary {
  background: var(--primary-P70);
  color: var(--neutral-N00);
  box-shadow: 0 var(--size-1) var(--size-3) rgba(59, 63, 234, 0.4);
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 var(--size-1-5) var(--size-4) rgba(59, 63, 234, 0.5);
  background: var(--primary-P60);
}

.btn-primary:active {
  transform: translateY(0);
}

.btn-secondary {
  background: var(--neutral-N15);
  color: var(--neutral-N70);
  border: 2px solid var(--neutral-N20);
}

.btn-secondary:hover {
  background: var(--neutral-N20);
}

.btn-outline {
  background: var(--neutral-N00);
  color: var(--primary-P70);
  border: 2px solid var(--primary-P70);
}

.btn-outline:hover {
  background: var(--primary-P70);
  color: var(--neutral-N00);
}

.save-section {
  display: flex;
  gap: var(--size-1-5);
  margin-top: var(--size-2-5);
  padding-top: var(--size-2-5);
  border-top: 1px solid var(--neutral-N15);
}

.save-section input {
  flex: 1;
}

.save-section .btn {
  flex: 0 0 auto;
  padding: var(--size-2-5) var(--size-4);
}

/* Presets */
.presets-grid {
  display: flex;
  flex-direction: column;
  gap: var(--size-2-5);
}

.preset-card {
  background: var(--neutral-N10);
  border-radius: var(--size-2-5);
  padding: var(--size-3-5);
  cursor: pointer;
  transition: all 0.3s;
  border: 2px solid transparent;
}

.preset-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 var(--size-2) var(--size-5) rgba(0, 0, 0, 0.15);
  border-color: var(--primary-P70);
}

.preset-icon {
  font-size: var(--size-8);
  margin-bottom: var(--size-2);
}

.preset-card h3 {
  font: var(--body-b7-2);
  margin-bottom: var(--size-1);
  color: var(--neutral-N70);
}

.preset-card p {
  font: var(--body-b9-5);
  color: var(--neutral-N50);
  margin-bottom: var(--size-2);
}

.preset-details {
  display: flex;
  flex-direction: column;
  gap: var(--size-0-5);
  font: var(--label-l7-5);
  color: var(--neutral-N40);
}

.breakpoint-list {
  display: flex;
  flex-wrap: wrap;
  gap: var(--size-1-5);
  margin-top: var(--size-2-5);
}

.breakpoint-btn {
  flex: 1 1 calc(50% - var(--size-1-5));
  border: none;
  border-radius: var(--size-2);
  padding: var(--size-1-5) var(--size-2);
  font: var(--label-l6-3);
  cursor: pointer;
  background: rgba(255, 255, 255, 0.25);
  color: inherit;
  border: 1px solid rgba(255, 255, 255, 0.4);
  transition: background 0.2s, transform 0.2s;
}

.breakpoint-btn:hover {
  background: rgba(255, 255, 255, 0.4);
  transform: translateY(-1px);
}

.preset-card[data-preset="bootstrap"] {
  background: linear-gradient(135deg, #7952b3 0%, #563d7c 100%);
  color: var(--neutral-N00);
}

.preset-card[data-preset="bootstrap"] h3,
.preset-card[data-preset="bootstrap"] p,
.preset-card[data-preset="bootstrap"] .preset-details {
  color: rgba(255, 255, 255, 0.9);
}

.preset-card[data-preset="tailwind"] {
  background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
  color: var(--neutral-N00);
}

.preset-card[data-preset="tailwind"] h3,
.preset-card[data-preset="tailwind"] p,
.preset-card[data-preset="tailwind"] .preset-details {
  color: rgba(255, 255, 255, 0.9);
}

.preset-card[data-preset="commsult"] {
  background: linear-gradient(135deg, #3b3fea 0%, #2d31c7 100%);
  color: var(--neutral-N00);
}

.preset-card[data-preset="commsult"] h3,
.preset-card[data-preset="commsult"] p,
.preset-card[data-preset="commsult"] .preset-details {
  color: rgba(255, 255, 255, 0.9);
}

/* Saved Configurations */
.saved-configs {
  display: flex;
  flex-direction: column;
  gap: var(--size-2);
}

.config-item {
  background: var(--neutral-N10);
  border: 2px solid var(--neutral-N20);
  border-radius: var(--size-2);
  padding: var(--size-2-5);
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: all 0.2s;
}

.config-item:hover {
  border-color: var(--primary-P70);
  background: var(--primary-P10);
}

.config-info {
  flex: 1;
}

.config-name {
  font: var(--body-b7-3);
  color: var(--neutral-N70);
  margin-bottom: var(--size-1);
}

.config-details {
  font: var(--body-b9-5);
  color: var(--neutral-N50);
}

.config-actions {
  display: flex;
  gap: var(--size-1-5);
}

.config-btn {
  padding: var(--size-1) var(--size-2-5);
  border: none;
  border-radius: var(--size-1-5);
  font: var(--label-l6-3);
  cursor: pointer;
  transition: all 0.2s;
}

.config-btn.load {
  background: var(--primary-P70);
  color: var(--neutral-N00);
}

.config-btn.delete {
  background: var(--danger-D50);
  color: var(--neutral-N00);
}

.config-btn:hover {
  transform: scale(1.05);
}

.empty-state {
  text-align: center;
  color: var(--neutral-N40);
  font: var(--label-l5-5);
  padding: var(--size-7) var(--size-3);
}

